FROM python:3.11

WORKDIR /app

# Copy the necessary files
# COPY start_mlx_proxy.sh start_mlx_api.sh ./
# COPY mlxVenv/ ./mlxVenv/

# Install any needed packages specified in requirements.txt
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY mlx_api.py ./
# Make sure the scripts are executable
# RUN chmod +x start_mlx_proxy.sh start_mlx_api.sh

# Set up the virtual environment
# ENV PATH="/app/mlxVenv/bin:$PATH"

CMD ["sh", "/app/start_mlx_proxy.sh"]
